<!--
 * @Author: L.柠@95736614
 * @Date: 2022-02-21 21:45:22
 * @LastEditTime: 2022-02-22 18:05:13
-->
【规范返回信息的结构】
{
    errCode:0,
    message:'注册成功',
    data:{}
}


## 1.注册
1.校验是否有 username password
    a.字段正常,走到2
    b.字段有错误,立即返回消息(用户名或密码错误)
2.数据查询是否有这个username
    a.已经存在,返回(请勿重复注册)
    b.不存在该用户,走到3
3.赋予一个默认的头像
    a.username password
    b.默认头像
    c.返回注册成功


## 2.登录
1.校验是否有 username password
    a.字段正常,走到2
    b.字段有错误,立即返回消息(用户名或密码错误)
2.数据查询是否有这个username
    a.已经存在,走到3
    b.不存在该用户,请注册
3.把生成的token存入user表,并且 查询对应客户的所有信息给前端
## 3.获取用户信息
1.前端传送token过来
    鉴权(鉴别token)
    token有效,可以进行下一步
    token失效,+token过期(1h)  +没有这个用户 -->让前端提醒用户重新登录
2.从数据库检索用户的信息
    根据token去知道现在是哪个用户，并且返回对应的信息
    
## 3.修改用户信息
1.前端传username password cms-token
    a.鉴权
    b.校验字段
2.到数据库替换用户名或密码
## 4.图片上传
1.前后端要协约好图片的字段-avatar
2.后端逻辑：
    a.鉴权
    b.接收到前端传过来的图片
        -判断是否超过大小限制(20k)
        -设置单图上传
        -修改图片名字（加时间戳实现不重复）
        -存储前端传过来的图片
        -读取这个文件的路径,纯入数据库,替换avatar字段的值
        -读取数据库的用户信息,返回给前端
3.前端逻辑：
    a.调用组件
    b.设置请求的地址和token
    c.修改local数据,更新组件